{"ast":null,"code":"import axios from 'axios';\nconst api = axios.create({\n  baseURL: 'http://localhost:3000/api/' // Adjust if backend port differs\n});\n\n// Add authentication interceptor for Basic Auth (matches your Django backend)\napi.interceptors.request.use(config => {\n  const username = localStorage.getItem('username');\n  const password = localStorage.getItem('password');\n  if (username && password) {\n    const token = btoa(`${username}:${password}`);\n    config.headers.Authorization = `Basic ${token}`;\n  }\n  return config;\n});\n\n// Upload CSV (multipart form data, no auth required per your backend)\nexport const uploadCSV = file => {\n  const formData = new FormData();\n  formData.append('file', file);\n  return api.post('upload/', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    } // Set here only for upload\n  });\n};\nexport const getSummary = () => api.get('summary/');\nexport const getHistory = () => api.get('history/');\n\n// For PDF (add this if not already in a page)\nexport const getPDF = () => api.get('pdf/', {\n  responseType: 'blob'\n});","map":{"version":3,"names":["axios","api","create","baseURL","interceptors","request","use","config","username","localStorage","getItem","password","token","btoa","headers","Authorization","uploadCSV","file","formData","FormData","append","post","getSummary","get","getHistory","getPDF","responseType"],"sources":["G:/py14/C_P_Visualizer/frontend-web/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:3000/api/',  // Adjust if backend port differs\r\n});\r\n\r\n// Add authentication interceptor for Basic Auth (matches your Django backend)\r\napi.interceptors.request.use(config => {\r\n  const username = localStorage.getItem('username');\r\n  const password = localStorage.getItem('password');\r\n  if (username && password) {\r\n    const token = btoa(`${username}:${password}`);\r\n    config.headers.Authorization = `Basic ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// Upload CSV (multipart form data, no auth required per your backend)\r\nexport const uploadCSV = (file) => {\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n  return api.post('upload/', formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' }  // Set here only for upload\r\n  });\r\n};\r\n\r\nexport const getSummary = () => api.get('summary/');\r\n\r\nexport const getHistory = () => api.get('history/');\r\n\r\n// For PDF (add this if not already in a page)\r\nexport const getPDF = () => api.get('pdf/', { responseType: 'blob' });"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE,4BAA4B,CAAG;AAC1C,CAAC,CAAC;;AAEF;AACAF,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,IAAI;EACrC,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EACjD,MAAMC,QAAQ,GAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EACjD,IAAIF,QAAQ,IAAIG,QAAQ,EAAE;IACxB,MAAMC,KAAK,GAAGC,IAAI,CAAC,GAAGL,QAAQ,IAAIG,QAAQ,EAAE,CAAC;IAC7CJ,MAAM,CAACO,OAAO,CAACC,aAAa,GAAG,SAASH,KAAK,EAAE;EACjD;EACA,OAAOL,MAAM;AACf,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMS,SAAS,GAAIC,IAAI,IAAK;EACjC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EAC7B,OAAOhB,GAAG,CAACoB,IAAI,CAAC,SAAS,EAAEH,QAAQ,EAAE;IACnCJ,OAAO,EAAE;MAAE,cAAc,EAAE;IAAsB,CAAC,CAAE;EACtD,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMQ,UAAU,GAAGA,CAAA,KAAMrB,GAAG,CAACsB,GAAG,CAAC,UAAU,CAAC;AAEnD,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAMvB,GAAG,CAACsB,GAAG,CAAC,UAAU,CAAC;;AAEnD;AACA,OAAO,MAAME,MAAM,GAAGA,CAAA,KAAMxB,GAAG,CAACsB,GAAG,CAAC,MAAM,EAAE;EAAEG,YAAY,EAAE;AAAO,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}