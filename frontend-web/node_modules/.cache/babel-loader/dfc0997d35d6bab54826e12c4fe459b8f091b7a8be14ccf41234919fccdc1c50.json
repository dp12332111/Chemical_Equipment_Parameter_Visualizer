{"ast":null,"code":"// // Updated Visualizations.js (added auth, fixed field names)\n// import React, { useState, useEffect } from 'react';\n// import { Pie, Bar } from 'react-chartjs-2';\n// import { getSummary } from '../services/api';\n// import { Chart as ChartJS, ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js';\n// import axios from 'axios';\n\n// ChartJS.register(ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\n\n// function Visualizations() {\n//   const [data, setData] = useState(null);\n//   const [error, setError] = useState('');\n//   const [authSet, setAuthSet] = useState(false);\n\n//   useEffect(() => {\n//     const username = localStorage.getItem('username');\n//     const password = localStorage.getItem('password');\n//     if (!username || !password) {\n//       const user = prompt('Enter username:');\n//       const pass = prompt('Enter password:');\n//       if (user && pass) {\n//         localStorage.setItem('username', user);\n//         localStorage.setItem('password', pass);\n//         const token = btoa(`${user}:${pass}`);\n//         axios.defaults.headers.common['Authorization'] = `Basic ${token}`;\n//         setAuthSet(true);\n//       } else {\n//         setError('Authentication required');\n//         return;\n//       }\n//     } else {\n//       const token = btoa(`${username}:${password}`);\n//       axios.defaults.headers.common['Authorization'] = `Basic ${token}`;\n//       setAuthSet(true);\n//     }\n//   }, []);\n\n//   useEffect(() => {\n//     if (authSet) {\n//       const fetchData = async () => {\n//         try {\n//           const response = await getSummary();\n//           setData(response.data);\n//         } catch (err) {\n//           setError('Failed to fetch data: ' + (err.response?.data?.error || err.message));\n//         }\n//       };\n//       fetchData();\n//     }\n//   }, [authSet]);\n\n//   if (error) return <p>{error}</p>;\n//   if (!authSet) return <p>Setting up authentication...</p>;\n//   if (!data) return <p>Loading...</p>;\n\n//   // Dynamic colors for pie chart\n//   const generateColors = (num) => {\n//     const colors = ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40'];\n//     return Array.from({ length: num }, (_, i) => colors[i % colors.length]);\n//   };\n\n//   const pieData = {\n//     labels: Object.keys(data.type_distribution),\n//     datasets: [\n//       {\n//         data: Object.values(data.type_distribution),\n//         backgroundColor: generateColors(Object.keys(data.type_distribution).length),\n//       },\n//     ],\n//   };\n\n//   const barData = {\n//     labels: ['Avg Flowrate', 'Avg Pressure', 'Avg Temperature'],\n//     datasets: [\n//       {\n//         label: 'Averages',\n//         data: [data.avg_flowrate, data.avg_pressure, data.avg_temperature],\n//         backgroundColor: '#36A2EB',\n//       },\n//     ],\n//   };\n\n//   return (\n//     <div>\n//       <h2>Visualizations</h2>\n//       <div style={{ width: '400px', marginBottom: '20px' }}>\n//         <h3>Type Distribution</h3>\n//         <Pie data={pieData} />\n//       </div>\n//       <div style={{ width: '400px' }}>\n//         <h3>Averages</h3>\n//         <Bar data={barData} />\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default Visualizations;\n\n// import React, { useState, useEffect } from 'react';\n// import { Pie, Bar } from 'react-chartjs-2';\n// import { getSummary } from '../services/api';\n// import { Chart as ChartJS, ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js';\n\n// ChartJS.register(ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\n\n// function Visualizations() {\n//   const [data, setData] = useState(null);\n//   const [error, setError] = useState('');\n\n//   useEffect(() => {\n//     const fetchData = async () => {\n//       try {\n//         const response = await getSummary();\n//         setData(response.data);\n//       } catch (err) {\n//         setError('Failed to fetch data');\n//       }\n//     };\n//     fetchData();\n//   }, []);\n\n//   if (error) return <p>{error}</p>;\n//   if (!data) return <p>Loading...</p>;\n\n//   // Dynamic colors for pie chart\n//   const generateColors = (num) => {\n//     const colors = ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40'];\n//     return Array.from({ length: num }, (_, i) => colors[i % colors.length]);\n//   };\n\n//   const pieData = {\n//     labels: Object.keys(data.type_distribution),\n//     datasets: [\n//       {\n//         data: Object.values(data.type_distribution),\n//         backgroundColor: generateColors(Object.keys(data.type_distribution).length),\n//       },\n//     ],\n//   };\n\n//   const barData = {\n//     labels: ['Avg Flowrate', 'Avg Pressure', 'Avg Temp'],\n//     datasets: [\n//       {\n//         label: 'Averages',\n//         data: [data.avg_flowrate, data.avg_pressure, data.avg_temp],\n//         backgroundColor: '#36A2EB',\n//       },\n//     ],\n//   };\n\n//   return (\n//     <div>\n//       <h2>Visualizations</h2>\n//       <div style={{ width: '400px', marginBottom: '20px' }}>\n//         <h3>Type Distribution</h3>\n//         <Pie data={pieData} />\n//       </div>\n//       <div style={{ width: '400px' }}>\n//         <h3>Averages</h3>\n//         <Bar data={barData} />\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default Visualizations;\n\n// import React, { useState, useEffect } from 'react';\n// import { Pie, Bar } from 'react-chartjs-2';\n// import { getSummary } from '../services/api';\n// import { Chart as ChartJS, ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js';\n\n// ChartJS.register(ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\n\n// function Visualizations() {\n//   const [data, setData] = useState(null);\n\n//   useEffect(() => {\n//     const fetchData = async () => {\n//       const response = await getSummary();\n//       setData(response.data);\n//     };\n//     fetchData();\n//   }, []);\n\n//   if (!data) return <p>Loading...</p>;\n\n//   const pieData = {\n//     labels: Object.keys(data.type_distribution),\n//     datasets: [{ data: Object.values(data.type_distribution), backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56'] }]\n//   };\n\n//   const barData = {\n//     labels: ['Avg Flowrate', 'Avg Pressure', 'Avg Temp'],\n//     datasets: [{ label: 'Averages', data: [data.avg_flowrate, data.avg_pressure, data.avg_temp], backgroundColor: '#36A2EB' }]\n//   };\n\n//   return (\n//     <div>\n//       <h2>Visualizations</h2>\n//       <div style={{ width: '400px' }}><Pie data={pieData} /></div>\n//       <div style={{ width: '400px' }}><Bar data={barData} /></div>\n//     </div>\n//   );\n// }\n\n// export default Visualizations;","map":{"version":3,"names":[],"sources":["G:/py14/C_P_Visualizer/frontend-web/src/pages/Visualizations.js"],"sourcesContent":["// // Updated Visualizations.js (added auth, fixed field names)\r\n// import React, { useState, useEffect } from 'react';\r\n// import { Pie, Bar } from 'react-chartjs-2';\r\n// import { getSummary } from '../services/api';\r\n// import { Chart as ChartJS, ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js';\r\n// import axios from 'axios';\r\n\r\n// ChartJS.register(ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\r\n\r\n// function Visualizations() {\r\n//   const [data, setData] = useState(null);\r\n//   const [error, setError] = useState('');\r\n//   const [authSet, setAuthSet] = useState(false);\r\n\r\n//   useEffect(() => {\r\n//     const username = localStorage.getItem('username');\r\n//     const password = localStorage.getItem('password');\r\n//     if (!username || !password) {\r\n//       const user = prompt('Enter username:');\r\n//       const pass = prompt('Enter password:');\r\n//       if (user && pass) {\r\n//         localStorage.setItem('username', user);\r\n//         localStorage.setItem('password', pass);\r\n//         const token = btoa(`${user}:${pass}`);\r\n//         axios.defaults.headers.common['Authorization'] = `Basic ${token}`;\r\n//         setAuthSet(true);\r\n//       } else {\r\n//         setError('Authentication required');\r\n//         return;\r\n//       }\r\n//     } else {\r\n//       const token = btoa(`${username}:${password}`);\r\n//       axios.defaults.headers.common['Authorization'] = `Basic ${token}`;\r\n//       setAuthSet(true);\r\n//     }\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     if (authSet) {\r\n//       const fetchData = async () => {\r\n//         try {\r\n//           const response = await getSummary();\r\n//           setData(response.data);\r\n//         } catch (err) {\r\n//           setError('Failed to fetch data: ' + (err.response?.data?.error || err.message));\r\n//         }\r\n//       };\r\n//       fetchData();\r\n//     }\r\n//   }, [authSet]);\r\n\r\n//   if (error) return <p>{error}</p>;\r\n//   if (!authSet) return <p>Setting up authentication...</p>;\r\n//   if (!data) return <p>Loading...</p>;\r\n\r\n//   // Dynamic colors for pie chart\r\n//   const generateColors = (num) => {\r\n//     const colors = ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40'];\r\n//     return Array.from({ length: num }, (_, i) => colors[i % colors.length]);\r\n//   };\r\n\r\n//   const pieData = {\r\n//     labels: Object.keys(data.type_distribution),\r\n//     datasets: [\r\n//       {\r\n//         data: Object.values(data.type_distribution),\r\n//         backgroundColor: generateColors(Object.keys(data.type_distribution).length),\r\n//       },\r\n//     ],\r\n//   };\r\n\r\n//   const barData = {\r\n//     labels: ['Avg Flowrate', 'Avg Pressure', 'Avg Temperature'],\r\n//     datasets: [\r\n//       {\r\n//         label: 'Averages',\r\n//         data: [data.avg_flowrate, data.avg_pressure, data.avg_temperature],\r\n//         backgroundColor: '#36A2EB',\r\n//       },\r\n//     ],\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <h2>Visualizations</h2>\r\n//       <div style={{ width: '400px', marginBottom: '20px' }}>\r\n//         <h3>Type Distribution</h3>\r\n//         <Pie data={pieData} />\r\n//       </div>\r\n//       <div style={{ width: '400px' }}>\r\n//         <h3>Averages</h3>\r\n//         <Bar data={barData} />\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default Visualizations;\r\n\r\n\r\n\r\n// import React, { useState, useEffect } from 'react';\r\n// import { Pie, Bar } from 'react-chartjs-2';\r\n// import { getSummary } from '../services/api';\r\n// import { Chart as ChartJS, ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js';\r\n\r\n// ChartJS.register(ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\r\n\r\n// function Visualizations() {\r\n//   const [data, setData] = useState(null);\r\n//   const [error, setError] = useState('');\r\n\r\n//   useEffect(() => {\r\n//     const fetchData = async () => {\r\n//       try {\r\n//         const response = await getSummary();\r\n//         setData(response.data);\r\n//       } catch (err) {\r\n//         setError('Failed to fetch data');\r\n//       }\r\n//     };\r\n//     fetchData();\r\n//   }, []);\r\n\r\n//   if (error) return <p>{error}</p>;\r\n//   if (!data) return <p>Loading...</p>;\r\n\r\n//   // Dynamic colors for pie chart\r\n//   const generateColors = (num) => {\r\n//     const colors = ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40'];\r\n//     return Array.from({ length: num }, (_, i) => colors[i % colors.length]);\r\n//   };\r\n\r\n//   const pieData = {\r\n//     labels: Object.keys(data.type_distribution),\r\n//     datasets: [\r\n//       {\r\n//         data: Object.values(data.type_distribution),\r\n//         backgroundColor: generateColors(Object.keys(data.type_distribution).length),\r\n//       },\r\n//     ],\r\n//   };\r\n\r\n//   const barData = {\r\n//     labels: ['Avg Flowrate', 'Avg Pressure', 'Avg Temp'],\r\n//     datasets: [\r\n//       {\r\n//         label: 'Averages',\r\n//         data: [data.avg_flowrate, data.avg_pressure, data.avg_temp],\r\n//         backgroundColor: '#36A2EB',\r\n//       },\r\n//     ],\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <h2>Visualizations</h2>\r\n//       <div style={{ width: '400px', marginBottom: '20px' }}>\r\n//         <h3>Type Distribution</h3>\r\n//         <Pie data={pieData} />\r\n//       </div>\r\n//       <div style={{ width: '400px' }}>\r\n//         <h3>Averages</h3>\r\n//         <Bar data={barData} />\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default Visualizations;\r\n\r\n\r\n// import React, { useState, useEffect } from 'react';\r\n// import { Pie, Bar } from 'react-chartjs-2';\r\n// import { getSummary } from '../services/api';\r\n// import { Chart as ChartJS, ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js';\r\n\r\n// ChartJS.register(ArcElement, Tooltip, Legend, BarElement, CategoryScale, LinearScale);\r\n\r\n// function Visualizations() {\r\n//   const [data, setData] = useState(null);\r\n\r\n//   useEffect(() => {\r\n//     const fetchData = async () => {\r\n//       const response = await getSummary();\r\n//       setData(response.data);\r\n//     };\r\n//     fetchData();\r\n//   }, []);\r\n\r\n//   if (!data) return <p>Loading...</p>;\r\n\r\n//   const pieData = {\r\n//     labels: Object.keys(data.type_distribution),\r\n//     datasets: [{ data: Object.values(data.type_distribution), backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56'] }]\r\n//   };\r\n\r\n//   const barData = {\r\n//     labels: ['Avg Flowrate', 'Avg Pressure', 'Avg Temp'],\r\n//     datasets: [{ label: 'Averages', data: [data.avg_flowrate, data.avg_pressure, data.avg_temp], backgroundColor: '#36A2EB' }]\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <h2>Visualizations</h2>\r\n//       <div style={{ width: '400px' }}><Pie data={pieData} /></div>\r\n//       <div style={{ width: '400px' }}><Bar data={barData} /></div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default Visualizations;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAIA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}